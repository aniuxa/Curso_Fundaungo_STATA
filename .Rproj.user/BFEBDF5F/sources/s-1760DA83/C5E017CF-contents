---
title: "Sesión 1"
author: "Ana Escoto"
date: "10/9/2021"
output: html_document
---

```{r, include=FALSE}
library(Statamarkdown)
stataexe <- find_stata()
knitr::opts_chunk$set(engine.path=list(stata=stataexe),
  error=TRUE, cleanlog=TRUE, comment=NA)

```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Introducción a STATA 

##  Pantalla y ventanas principales

![image](images/stata1.png)

##STATA y su pantalla

Pero además utilizaremos otras pantallas. Una muy útil es la de el *do-file*
Aquí copiamos los comandos para no olvidar lo que hemos hecho en nuestra base de datos y poderlo replicar. Documentar nuestro código es importante para la replicabilidad (de nosotros mismos y de los demás)

![do-file](images/stata2.png)

Otra muy útil es la edición de datos, <b>"Edit"</b>.  Parece una hoja de Excel y podemos editar los datos directamente, capturales, ponerles nombre, etiquetarlos.

![edit](images/stata3.png)

*¡Tip!*
Es muy útil usar en lugar de la edición, la de "Navegación" o *"Browse*. Se ve aparentemente igual. Pero sólo inspecciona y no cambia. Esto es útil, porque si editamos es mucho mejor hacerlo por comando para que quede claro qué hicimos con nuestra base de datos

![browse](images/stata4.png)

##STATA como una gran calculadora
El comando más simple es comando "display", este comando nos presenta en la pantalla de resultados las operaciones que le pidamos.

```{stata, collectcode=TRUE}

display  "hola"
di 5+3
di chi2(10, 85)

```

Pedir ayuda
(Nota, con un asterisco los comandos no se vuelven de "chocolate")

```{stata, collectcode=TRUE}

help display

help chi2

help operators
```

![operadores](images/stata5.png)

Los operadores son importantísimos porque nos ayudan a poner filtros y saber cómo "lee" nuestras indicaciones STATA

# Usando bases de datos

Vamos a utilizar la Encuesta de Hogares de Propósitos Múltiples de 2019, que está en el repositorio
Para abrir una base de datos existente

Podemos hacerlo una base de datos "manualmente" usando:
  los botones de "abrir" 
  File -> Open o
  
  Los botones CTRL + O
  
O bien escribir la liga de donde los estamos utilizando.  

```{stata, collectcode=TRUE}
use "datos/ehpm_2019", clear

describe

```

